{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"lodash","data":{"isAsync":false}},{"name":"./defaultTheme","data":{"isAsync":false}},{"name":"./color","data":{"isAsync":false}},{"name":"./typeManager","data":{"isAsync":false}},{"name":"./styleSheet","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.RkTheme = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _lodash = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"lodash\"));\n\n  var _defaultTheme = _$$_REQUIRE(_dependencyMap[4], \"./defaultTheme\");\n\n  var _color = _$$_REQUIRE(_dependencyMap[5], \"./color\");\n\n  var _typeManager = _$$_REQUIRE(_dependencyMap[6], \"./typeManager\");\n\n  var _styleSheet = _$$_REQUIRE(_dependencyMap[7], \"./styleSheet\");\n\n  var ThemeManager = function () {\n    function ThemeManager() {\n      (0, _classCallCheck2.default)(this, ThemeManager);\n      this.currentTheme = this.getDefault();\n      this.themeColors = _lodash.default.cloneDeep(_color.RkColors);\n      this.updatePredefinedStyles();\n      this.listeners = [];\n    }\n\n    (0, _createClass2.default)(ThemeManager, [{\n      key: \"subscribeComponent\",\n      value: function subscribeComponent(obj) {\n        this.listeners.push(obj);\n      }\n    }, {\n      key: \"unsubscribeComponent\",\n      value: function unsubscribeComponent(obj) {\n        _lodash.default.pull(this.listeners, obj);\n      }\n    }, {\n      key: \"updatePredefinedStyles\",\n      value: function updatePredefinedStyles() {\n        this.predefinedStyles = this.createColorsStyles(this.colors);\n      }\n    }, {\n      key: \"createColorsStyles\",\n      value: function createColorsStyles(colors) {\n        var styleObject = {};\n        Object.keys(colors).forEach(function (key) {\n          styleObject[key + \"Text\"] = {\n            color: colors[key]\n          };\n          styleObject[key + \"Bg\"] = {\n            backgroundColor: colors[key]\n          };\n          styleObject[key + \"Border\"] = {\n            borderColor: colors[key]\n          };\n        });\n        return styleObject;\n      }\n    }, {\n      key: \"getDefault\",\n      value: function getDefault() {\n        return _lodash.default.cloneDeep(_defaultTheme.DefaultTheme);\n      }\n    }, {\n      key: \"setTheme\",\n      value: function setTheme(theme) {\n        var baseTheme = this.getDefault();\n\n        var newTheme = _lodash.default.merge(baseTheme, theme);\n\n        _lodash.default.merge(this.currentTheme, newTheme);\n\n        _typeManager.TypeManager.invalidateTypes();\n\n        _styleSheet.RkStyleSheet.invalidate();\n\n        this.listeners.forEach(function (t) {\n          return t.forceUpdate();\n        });\n      }\n    }, {\n      key: \"setType\",\n      value: function setType(element, name, value, parentTypes) {\n        _typeManager.TypeManager.setType(element, name, value, parentTypes);\n      }\n    }, {\n      key: \"registerComponent\",\n      value: function registerComponent(element, types) {\n        _typeManager.TypeManager.registerTypes(element, types);\n      }\n    }, {\n      key: \"setColor\",\n      value: function setColor(name, value) {\n        this.colors[name] = value;\n        this.updatePredefinedStyles();\n      }\n    }, {\n      key: \"current\",\n      get: function get() {\n        return this.currentTheme;\n      }\n    }, {\n      key: \"styles\",\n      get: function get() {\n        return this.predefinedStyles;\n      }\n    }, {\n      key: \"colors\",\n      get: function get() {\n        return this.themeColors;\n      }\n    }]);\n    return ThemeManager;\n  }();\n\n  var RkTheme = new ThemeManager();\n  exports.RkTheme = RkTheme;\n});","map":[[13,0,1,0],[15,0,2,0],[17,0,3,0],[19,0,4,0],[21,0,5,0],[23,6,10,6,"ThemeManager"],[23,18],[24,0,11,2],[24,28,11,16],[25,0,11,16],[26,0,12,4],[26,11,12,9,"currentTheme"],[26,23,12,4],[26,26,12,24],[26,31,12,29,"getDefault"],[26,41,12,24],[26,43,12,4],[27,0,13,4],[27,11,13,9,"themeColors"],[27,22,13,4],[27,25,13,23,"_"],[27,41,13,25,"cloneDeep"],[27,50,13,23],[27,51,13,35,"RkColors"],[27,66,13,23],[27,67,13,4],[28,0,14,4],[28,11,14,9,"updatePredefinedStyles"],[28,33,14,4],[29,0,15,4],[29,11,15,9,"listeners"],[29,20,15,4],[29,23,15,21],[29,25,15,4],[30,0,16,3],[34,41,18,21,"obj"],[34,44],[34,46,18,26],[35,0,19,4],[35,13,19,9,"listeners"],[35,22,19,4],[35,23,19,19,"push"],[35,27,19,4],[35,28,19,24,"obj"],[35,31,19,4],[36,0,20,3],[39,43,22,23,"obj"],[39,46],[39,48,22,28],[40,0,23,4,"_"],[40,24,23,6,"pull"],[40,28,23,4],[40,29,23,11],[40,34,23,16,"listeners"],[40,43,23,4],[40,45,23,27,"obj"],[40,48,23,4],[41,0,24,3],[44,47,26,27],[45,0,27,4],[45,13,27,9,"predefinedStyles"],[45,29,27,4],[45,32,27,28],[45,37,27,33,"createColorsStyles"],[45,55,27,28],[45,56,27,52],[45,61,27,57,"colors"],[45,67,27,28],[45,68,27,4],[46,0,28,3],[49,41,30,21,"colors"],[49,47],[49,49,30,29],[50,0,31,4],[50,12,31,10,"styleObject"],[50,23,31,21],[50,26,31,24],[50,28,31,4],[51,0,32,4,"Object"],[51,8,32,4,"Object"],[51,14,32,10],[51,15,32,11,"keys"],[51,19,32,4],[51,20,32,16,"colors"],[51,26,32,4],[51,28,32,24,"forEach"],[51,35,32,4],[51,36,32,32],[51,46,32,32,"key"],[51,49,32,35],[51,51,32,39],[52,0,33,6,"styleObject"],[52,10,33,6,"styleObject"],[52,21,33,17],[52,22,33,21,"key"],[52,25,33,17],[52,35,33,6],[52,38,33,34],[53,0,34,8,"color"],[53,12,34,8,"color"],[53,17,34,13],[53,19,34,15,"colors"],[53,25,34,21],[53,26,34,22,"key"],[53,29,34,21],[54,0,33,34],[54,11,33,6],[55,0,36,6,"styleObject"],[55,10,36,6,"styleObject"],[55,21,36,17],[55,22,36,21,"key"],[55,25,36,17],[55,33,36,6],[55,36,36,32],[56,0,37,8,"backgroundColor"],[56,12,37,8,"backgroundColor"],[56,27,37,23],[56,29,37,25,"colors"],[56,35,37,31],[56,36,37,32,"key"],[56,39,37,31],[57,0,36,32],[57,11,36,6],[58,0,39,6,"styleObject"],[58,10,39,6,"styleObject"],[58,21,39,17],[58,22,39,21,"key"],[58,25,39,17],[58,37,39,6],[58,40,39,36],[59,0,40,8,"borderColor"],[59,12,40,8,"borderColor"],[59,23,40,19],[59,25,40,21,"colors"],[59,31,40,27],[59,32,40,28,"key"],[59,35,40,27],[60,0,39,36],[60,11,39,6],[61,0,42,5],[61,9,32,4],[62,0,43,4],[62,15,43,11,"styleObject"],[62,26,43,4],[63,0,44,3],[66,35,46,15],[67,0,47,4],[67,15,47,11,"_"],[67,31,47,13,"cloneDeep"],[67,40,47,11],[67,41,47,23,"DefaultTheme"],[67,67,47,11],[67,68,47,4],[68,0,48,3],[71,31,75,11,"theme"],[71,36],[71,38,75,18],[72,0,76,4],[72,12,76,10,"baseTheme"],[72,21,76,19],[72,24,76,22],[72,29,76,27,"getDefault"],[72,39,76,22],[72,41,76,4],[74,0,78,4],[74,12,78,10,"newTheme"],[74,20,78,18],[74,23,78,21,"_"],[74,39,78,23,"merge"],[74,44,78,21],[74,45,78,29,"baseTheme"],[74,54,78,21],[74,56,78,40,"theme"],[74,61,78,21],[74,62,78,4],[76,0,79,4,"_"],[76,24,79,6,"merge"],[76,29,79,4],[76,30,79,12],[76,35,79,17,"currentTheme"],[76,47,79,4],[76,49,79,31,"newTheme"],[76,57,79,4],[78,0,81,4,"TypeManager"],[78,33,81,16,"invalidateTypes"],[78,48,81,4],[80,0,82,4,"RkStyleSheet"],[80,33,82,17,"invalidate"],[80,43,82,4],[82,0,84,4],[82,13,84,9,"listeners"],[82,22,84,4],[82,23,84,19,"forEach"],[82,30,84,4],[82,31,84,27],[82,41,84,27,"t"],[82,42,84,28],[83,0,84,28],[83,17,84,32,"t"],[83,18,84,33],[83,19,84,34,"forceUpdate"],[83,30,84,32],[83,32,84,28],[84,0,84,28],[84,9,84,4],[85,0,85,3],[88,30,93,10,"element"],[88,37],[88,39,93,19,"name"],[88,43],[88,45,93,25,"value"],[88,50],[88,52,93,32,"parentTypes"],[88,63],[88,65,93,45],[89,0,94,4,"TypeManager"],[89,33,94,16,"setType"],[89,40,94,4],[89,41,94,24,"element"],[89,48,94,4],[89,50,94,33,"name"],[89,54,94,4],[89,56,94,39,"value"],[89,61,94,4],[89,63,94,46,"parentTypes"],[89,74,94,4],[90,0,95,3],[93,40,102,20,"element"],[93,47],[93,49,102,29,"types"],[93,54],[93,56,102,36],[94,0,103,4,"TypeManager"],[94,33,103,16,"registerTypes"],[94,46,103,4],[94,47,103,30,"element"],[94,54,103,4],[94,56,103,39,"types"],[94,61,103,4],[95,0,104,3],[98,31,111,11,"name"],[98,35],[98,37,111,17,"value"],[98,42],[98,44,111,24],[99,0,112,4],[99,13,112,9,"colors"],[99,19,112,4],[99,20,112,16,"name"],[99,24,112,4],[99,28,112,24,"value"],[99,33,112,4],[100,0,113,4],[100,13,113,9,"updatePredefinedStyles"],[100,35,113,4],[101,0,114,3],[104,26,53,16],[105,0,54,4],[105,15,54,11],[105,20,54,16,"currentTheme"],[105,32,54,4],[106,0,55,3],[109,26,60,15],[110,0,61,4],[110,15,61,11],[110,20,61,16,"predefinedStyles"],[110,36,61,4],[111,0,62,3],[114,26,67,15],[115,0,68,4],[115,15,68,11],[115,20,68,16,"themeColors"],[115,31,68,4],[116,0,69,3],[121,0,117,7],[121,6,117,13,"RkTheme"],[121,13,117,20],[121,16,117,23],[121,20,117,27,"ThemeManager"],[121,32,117,23],[121,34,117,7]]},"type":"js/module"}]}