{"dependencies":[{"name":"@babel/runtime/helpers/objectSpread","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"fbjs/lib/performanceNow","data":{"isAsync":false}},{"name":"fbjs/lib/warning","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),l=r(d[3]),_=r(d[4]),h=function t(){s(this,t),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0},o=[],u=10,f=null,c=(function(){function c(t){s(this,c),this._anyBlankStartTime=null,this._enabled=!1,this._info=new h,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=t,this._enabled=(f||0)>Math.random(),this._resetData()}return n(c,null,[{key:\"addListener\",value:function(t){return _(null!==f,'Call `FillRateHelper.setSampleRate` before `addListener`.'),o.push(t),{remove:function(){o=o.filter(function(n){return t!==n})}}}},{key:\"setSampleRate\",value:function(t){f=t}},{key:\"setMinSampleCount\",value:function(t){u=t}}]),n(c,[{key:\"activate\",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=l())}},{key:\"deactivateAndFlush\",value:function(){if(this._enabled){var n=this._samplesStartTime;if(null!=n)if(this._info.sample_count<u)this._resetData();else{var s=l()-n,_=t({},this._info,{total_time_spent:s});o.forEach(function(t){return t(_)}),this._resetData()}}}},{key:\"computeBlankness\",value:function(t,n,s){if(!this._enabled||0===t.getItemCount(t.data)||null==this._samplesStartTime)return 0;var _=s.dOffset,h=s.offset,o=s.velocity,u=s.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(u),this._info.pixels_scrolled+=Math.round(Math.abs(_));var f=Math.round(1e3*Math.abs(o)),c=l();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=c-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=c-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var k=0,y=n.first,p=this._getFrameMetrics(y);y<=n.last&&(!p||!p.inLayout);)p=this._getFrameMetrics(y),y++;p&&y>0&&(k=Math.min(u,Math.max(0,p.offset-h)));for(var b=0,v=n.last,S=this._getFrameMetrics(v);v>=n.first&&(!S||!S.inLayout);)S=this._getFrameMetrics(v),v--;if(S&&v<t.getItemCount(t.data)-1){var M=S.offset+S.length;b=Math.min(u,Math.max(0,h+u-M))}var T=Math.round(k+b),B=T/u;return B>0?(this._anyBlankStartTime=c,this._info.any_blank_speed_sum+=f,this._info.any_blank_count++,this._info.pixels_blank+=T,B>.5&&(this._mostlyBlankStartTime=c,this._info.mostly_blank_count++)):(f<.01||Math.abs(_)<1)&&this.deactivateAndFlush(),B}},{key:\"enabled\",value:function(){return this._enabled}},{key:\"_resetData\",value:function(){this._anyBlankStartTime=null,this._info=new h,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}]),c})();m.exports=c});","map":[[1,28,11,0],[1,75,16,6,"performanceNow"],[1,77,16,23,"require"],[1,79,16,30,"d"],[1,81,16,30],[1,85,20,6,"warning"],[1,87,20,16,"require"],[1,89,20,23,"d"],[1,91,20,23],[1,95,24,6,"Info"],[1,125,25,2,"any_blank_count"],[1,141,25,20],[1,148,26,2,"any_blank_ms"],[1,161,26,17],[1,168,27,2,"any_blank_speed_sum"],[1,188,27,24],[1,195,28,2,"mostly_blank_count"],[1,214,28,23],[1,221,29,2,"mostly_blank_ms"],[1,237,29,20],[1,244,30,2,"pixels_blank"],[1,257,30,17],[1,264,31,2,"pixels_sampled"],[1,279,31,19],[1,286,32,2,"pixels_scrolled"],[1,302,32,20],[1,309,33,2,"total_time_spent"],[1,326,33,21],[1,333,34,2,"sample_count"],[1,346,34,17],[1,349,41,4,"_listeners"],[1,354,42,4,"_minSampleCount"],[1,356,42,22],[1,359,43,4,"_sampleRate"],[1,361,43,30],[1,366,53,6,"FillRateHelper"],[1,380,82,2],[1,389,82,2,"FillRateHelper"],[1,391,82,14,"getFrameMetrics"],[1,394,82,65,"_classCallCheck"],[1,396,82,65,"this"],[1,401,82,65,"FillRateHelper"],[1,404,82,65,"this"],[1,409,54,2,"_anyBlankStartTime"],[1,428,54,24],[1,433,82,65,"this"],[1,438,55,2,"_enabled"],[1,448,55,13],[1,450,82,65,"this"],[1,455,57,2,"_info"],[1,461,57,10],[1,465,57,14,"Info"],[1,467,82,65,"this"],[1,472,58,2,"_mostlyBlankStartTime"],[1,494,58,27],[1,499,82,65,"this"],[1,504,59,2,"_samplesStartTime"],[1,522,59,23],[1,527,83,4,"this"],[1,532,83,9,"_getFrameMetrics"],[1,549,83,28,"getFrameMetrics"],[1,551,84,4,"this"],[1,556,84,9,"_enabled"],[1,566,84,21,"_sampleRate"],[1,569,84,36],[1,572,84,41,"Math"],[1,577,84,46,"random"],[1,586,85,4,"this"],[1,591,85,9,"_resetData"],[1,655,61,21,"callback"],[1,658,67,4],[1,665,62,4,"warning"],[1,667,63,22],[1,674,63,6,"_sampleRate"],[1,676,64,6],[1,737,66,4,"_listeners"],[1,739,66,15,"push"],[1,744,66,20,"callback"],[1,748,68,6,"remove"],[1,755,68,14],[1,766,69,8,"_listeners"],[1,768,69,21,"_listeners"],[1,770,69,32,"filter"],[1,777,69,39],[1,786,69,39,"listener"],[1,789,69,47],[1,796,69,51,"callback"],[1,800,69,64,"listener"],[1,844,74,23,"sampleRate"],[1,847,75,4,"_sampleRate"],[1,849,75,18,"sampleRate"],[1,893,78,27,"minSampleCount"],[1,896,79,4,"_minSampleCount"],[1,898,79,22,"minSampleCount"],[1,942,89,8,"this"],[1,947,89,13,"_enabled"],[1,957,89,51],[1,963,89,25,"this"],[1,968,89,30,"_samplesStartTime"],[1,988,91,6,"this"],[1,993,91,11,"_samplesStartTime"],[1,1011,91,31,"performanceNow"],[1,1061,96,4],[1,1064,96,9,"this"],[1,1069,96,14,"_enabled"],[1,1078,96,4],[1,1079,99,4],[1,1083,99,10,"start"],[1,1085,99,18,"this"],[1,1090,99,23,"_samplesStartTime"],[1,1108,100,4],[1,1111,100,17],[1,1117,100,8,"start"],[1,1119,105,4],[1,1122,105,8,"this"],[1,1127,105,13,"_info"],[1,1133,105,19,"sample_count"],[1,1146,105,34,"_minSampleCount"],[1,1148,107,6,"this"],[1,1153,107,11,"_resetData"],[1,1170,105,4],[1,1171,110,4],[1,1175,110,10,"total_time_spent"],[1,1177,110,29,"performanceNow"],[1,1181,110,48,"start"],[1,1183,111,10,"info"],[1,1185,111,19,"_objectSpread"],[1,1190,112,9,"this"],[1,1195,112,14,"_info"],[1,1202,113,6,"total_time_spent"],[1,1219,113,6,"total_time_spent"],[1,1223,133,4,"_listeners"],[1,1225,133,15,"forEach"],[1,1233,133,23],[1,1242,133,23,"listener"],[1,1245,133,31],[1,1252,133,35,"listener"],[1,1254,133,44,"info"],[1,1259,134,4,"this"],[1,1264,134,9,"_resetData"],[1,1320,138,4,"props"],[1,1322,143,4,"state"],[1,1324,147,4,"scrollMetrics"],[1,1327,154,4],[1,1331,155,7,"this"],[1,1336,155,12,"_enabled"],[1,1346,156,41],[1,1350,156,6,"props"],[1,1352,156,12,"getItemCount"],[1,1365,156,25,"props"],[1,1367,156,31,"data"],[1,1374,157,32],[1,1380,157,6,"this"],[1,1385,157,11,"_samplesStartTime"],[1,1403,159,6],[1,1410,159,13],[1,1412,153,12],[1,1416,161,11,"dOffset"],[1,1418,161,55,"scrollMetrics"],[1,1420,161,11,"dOffset"],[1,1428,161,20,"offset"],[1,1430,161,55,"scrollMetrics"],[1,1432,161,20,"offset"],[1,1439,161,28,"velocity"],[1,1441,161,55,"scrollMetrics"],[1,1443,161,28,"velocity"],[1,1452,161,38,"visibleLength"],[1,1454,161,55,"scrollMetrics"],[1,1456,161,38,"visibleLength"],[1,1470,165,4,"this"],[1,1475,165,9,"_info"],[1,1481,165,15,"sample_count"],[1,1496,166,4,"this"],[1,1501,166,9,"_info"],[1,1507,166,15,"pixels_sampled"],[1,1523,166,33,"Math"],[1,1528,166,38,"round"],[1,1534,166,44,"visibleLength"],[1,1537,167,4,"this"],[1,1542,167,9,"_info"],[1,1548,167,15,"pixels_scrolled"],[1,1565,167,34,"Math"],[1,1570,167,39,"round"],[1,1576,167,45,"Math"],[1,1581,167,50,"abs"],[1,1585,167,54,"dOffset"],[1,1589,168,4],[1,1593,168,10,"scrollSpeed"],[1,1595,168,24,"Math"],[1,1600,168,29,"round"],[1,1606,168,56],[1,1610,168,35,"Math"],[1,1615,168,40,"abs"],[1,1619,168,44,"velocity"],[1,1623,171,10,"now"],[1,1625,171,16,"performanceNow"],[1,1629,172,35],[1,1635,172,8,"this"],[1,1640,172,13,"_anyBlankStartTime"],[1,1661,173,6,"this"],[1,1666,173,11,"_info"],[1,1672,173,17,"any_blank_ms"],[1,1686,173,33,"now"],[1,1688,173,39,"this"],[1,1693,173,44,"_anyBlankStartTime"],[1,1713,175,4,"this"],[1,1718,175,9,"_anyBlankStartTime"],[1,1737,175,30],[1,1742,176,38],[1,1748,176,8,"this"],[1,1753,176,13,"_mostlyBlankStartTime"],[1,1777,177,6,"this"],[1,1782,177,11,"_info"],[1,1788,177,17,"mostly_blank_ms"],[1,1805,177,36,"now"],[1,1807,177,42,"this"],[1,1812,177,47,"_mostlyBlankStartTime"],[1,1835,179,4,"this"],[1,1840,179,9,"_mostlyBlankStartTime"],[1,1862,179,33],[1,1867,184,4],[1,1871,181,4],[1,1875,181,8,"blankTop"],[1,1877,181,19],[1,1879,182,8,"first"],[1,1881,182,16,"state"],[1,1883,182,22,"first"],[1,1889,183,8,"firstFrame"],[1,1891,183,21,"this"],[1,1896,183,26,"_getFrameMetrics"],[1,1913,183,43,"first"],[1,1916,184,11,"first"],[1,1919,184,20,"state"],[1,1921,184,26,"last"],[1,1929,184,36,"firstFrame"],[1,1933,184,51,"firstFrame"],[1,1935,184,62,"inLayout"],[1,1946,185,6,"firstFrame"],[1,1948,185,19,"this"],[1,1953,185,24,"_getFrameMetrics"],[1,1970,185,41,"first"],[1,1973,186,6,"first"],[1,1977,190,8,"firstFrame"],[1,1980,190,22,"first"],[1,1982,190,30],[1,1986,191,6,"blankTop"],[1,1988,191,17,"Math"],[1,1993,191,22,"min"],[1,1997,192,8,"visibleLength"],[1,1999,193,8,"Math"],[1,2004,193,13,"max"],[1,2008,193,17],[1,2010,193,20,"firstFrame"],[1,2012,193,31,"offset"],[1,2019,193,40,"offset"],[1,2024,199,4],[1,2028,196,4],[1,2032,196,8,"blankBottom"],[1,2034,196,22],[1,2036,197,8,"last"],[1,2038,197,15,"state"],[1,2040,197,21,"last"],[1,2045,198,8,"lastFrame"],[1,2047,198,20,"this"],[1,2052,198,25,"_getFrameMetrics"],[1,2069,198,42,"last"],[1,2072,199,11,"last"],[1,2075,199,19,"state"],[1,2077,199,25,"first"],[1,2086,199,36,"lastFrame"],[1,2090,199,50,"lastFrame"],[1,2092,199,60,"inLayout"],[1,2103,200,6,"lastFrame"],[1,2105,200,18,"this"],[1,2110,200,23,"_getFrameMetrics"],[1,2127,200,40,"last"],[1,2130,201,6,"last"],[1,2134,205,4],[1,2137,205,8,"lastFrame"],[1,2140,205,21,"last"],[1,2142,205,28,"props"],[1,2144,205,34,"getItemCount"],[1,2157,205,47,"props"],[1,2159,205,53,"data"],[1,2165,205,61],[1,2167,205,64],[1,2168,206,6],[1,2172,206,12,"bottomEdge"],[1,2174,206,25,"lastFrame"],[1,2176,206,35,"offset"],[1,2183,206,44,"lastFrame"],[1,2185,206,54,"length"],[1,2192,207,6,"blankBottom"],[1,2194,207,20,"Math"],[1,2199,207,25,"min"],[1,2203,208,8,"visibleLength"],[1,2205,209,8,"Math"],[1,2210,209,13,"max"],[1,2214,209,17],[1,2216,209,20,"offset"],[1,2218,209,29,"visibleLength"],[1,2220,209,45,"bottomEdge"],[1,2224,212,4],[1,2228,212,10,"pixels_blank"],[1,2230,212,25,"Math"],[1,2235,212,30,"round"],[1,2241,212,36,"blankTop"],[1,2243,212,47,"blankBottom"],[1,2246,213,10,"blankness"],[1,2248,213,22,"pixels_blank"],[1,2250,213,37,"visibleLength"],[1,2252,226,4],[1,2259,214,8,"blankness"],[1,2261,214,20],[1,2264,215,6,"this"],[1,2269,215,11,"_anyBlankStartTime"],[1,2288,215,32,"now"],[1,2290,216,6,"this"],[1,2295,216,11,"_info"],[1,2301,216,17,"any_blank_speed_sum"],[1,2322,216,40,"scrollSpeed"],[1,2324,217,6,"this"],[1,2329,217,11,"_info"],[1,2335,217,17,"any_blank_count"],[1,2353,218,6,"this"],[1,2358,218,11,"_info"],[1,2364,218,17,"pixels_blank"],[1,2378,218,33,"pixels_blank"],[1,2380,219,10,"blankness"],[1,2382,219,22],[1,2387,220,8,"this"],[1,2392,220,13,"_mostlyBlankStartTime"],[1,2414,220,37,"now"],[1,2416,221,8,"this"],[1,2421,221,13,"_info"],[1,2427,221,19,"mostly_blank_count"],[1,2451,223,15,"scrollSpeed"],[1,2453,223,29],[1,2458,223,37,"Math"],[1,2463,223,42,"abs"],[1,2467,223,46,"dOffset"],[1,2470,223,57],[1,2474,224,6,"this"],[1,2479,224,11,"deactivateAndFlush"],[1,2500,226,11,"blankness"],[1,2536,230,4],[1,2543,230,11,"this"],[1,2548,230,16,"_enabled"],[1,2594,234,4,"this"],[1,2599,234,9,"_anyBlankStartTime"],[1,2618,234,30],[1,2623,235,4,"this"],[1,2628,235,9,"_info"],[1,2634,235,17],[1,2638,235,21,"Info"],[1,2640,236,4,"this"],[1,2645,236,9,"_mostlyBlankStartTime"],[1,2667,236,33],[1,2672,237,4,"this"],[1,2677,237,9,"_samplesStartTime"],[1,2695,237,29],[1,2710,241,0,"module"],[1,2712,241,7,"exports"],[1,2720,241,17,"FillRateHelper"]]},"type":"js/module"}]}