{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectSpread","data":{"isAsync":false}},{"name":"../utils/invariant","data":{"isAsync":false}},{"name":"../utils/shallowEqual","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,u,c,v){if(t.forEach(function(t){var n=t.route;v&&v[n.key]&&(t.descriptor=v[n.key])}),c===u)return t;var y=new Map,h=new Map,k=new Map;t.forEach(function(t){var n=t.key;t.isStale&&k.set(n,t),y.set(n,t)});var p=new Set;u.routes.forEach(function(t,n){var u=s+t.key,c={index:n,isActive:!1,isStale:!1,key:u,route:t,descriptor:v&&v[t.key]};(0,o.default)(!p.has(u),\"navigation.state.routes[\"+n+\"].key \\\"\"+u+\"\\\" conflicts with another route!\"),p.add(u),k.has(u)&&k.delete(u),h.set(u,c)}),c&&c.routes.forEach(function(n,o){var u=s+n.key;if(!h.has(u)){var c=t.find(function(t){return t.route.key===n.key}),f=c?c.descriptor:v[n.key];f&&k.set(u,{index:o,isActive:!1,isStale:!0,key:u,route:n,descriptor:f})}});var x=[],E=function(t){var n=t.key,o=y.has(n)?y.get(n):null;o&&l(o,t)?x.push(o):x.push(t)};k.forEach(E),h.forEach(E),x.sort(f);var S=0;if(x.forEach(function(t,o){var s=!t.isStale&&t.index===u.index;s!==t.isActive&&(x[o]=(0,n.default)({},t,{isActive:s})),s&&S++}),(0,o.default)(1===S,'there should always be only one scene active, not %s.',S),x.length!==t.length)return x;if(x.some(function(n,o){return!l(t[o],n)}))return x;return t};var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),s='scene_';function c(t,n){var o=t.length-n.length;return o>0?1:o<0?-1:t>n?1:-1}function f(t,n){return t.index>n.index?1:t.index<n.index?-1:c(t.key,n.key)}function l(t,n){return t.key===n.key&&t.index===n.index&&t.isStale===n.isStale&&t.isActive===n.isActive&&v(t.route,n.route)}function v(t,n){return t&&n?t.key===n.key&&(0,u.default)(t,n):t===n}});","map":[[1,101,56,15],[1,110,56,38,"scenes"],[1,112,56,46,"nextState"],[1,114,56,57,"prevState"],[1,116,56,68,"descriptors"],[1,119,68,2],[1,122,60,2,"scenes"],[1,124,60,9,"forEach"],[1,132,60,17],[1,141,60,17,"scene"],[1,144,60,26],[1,148,61,12,"route"],[1,150,61,22,"scene"],[1,152,61,12,"route"],[1,158,62,8,"descriptors"],[1,161,62,23,"descriptors"],[1,163,62,35,"route"],[1,165,62,41,"key"],[1,172,63,6,"scene"],[1,174,63,12,"descriptor"],[1,185,63,25,"descriptors"],[1,187,63,37,"route"],[1,189,63,43,"key"],[1,197,68,6,"prevState"],[1,201,68,20,"nextState"],[1,203,69,4],[1,210,69,11,"scenes"],[1,212,72,2],[1,216,72,8,"prevScenes"],[1,218,72,21],[1,222,72,25,"Map"],[1,226,73,8,"freshScenes"],[1,228,73,22],[1,232,73,26,"Map"],[1,236,74,8,"staleScenes"],[1,238,74,22],[1,242,74,26,"Map"],[1,246,77,2,"scenes"],[1,248,77,9,"forEach"],[1,256,77,17],[1,265,77,17,"scene"],[1,268,77,26],[1,272,78,12,"key"],[1,274,78,20,"scene"],[1,276,78,12,"key"],[1,280,79,8,"scene"],[1,282,79,14,"isStale"],[1,291,80,6,"staleScenes"],[1,293,80,18,"set"],[1,297,80,22,"key"],[1,299,80,27,"scene"],[1,302,82,4,"prevScenes"],[1,304,82,15,"set"],[1,308,82,19,"key"],[1,310,82,24,"scene"],[1,315,85,2],[1,319,85,8,"nextKeys"],[1,321,85,19],[1,325,85,23,"Set"],[1,329,86,2,"nextState"],[1,331,86,12,"routes"],[1,338,86,19,"forEach"],[1,346,86,27],[1,355,86,28,"route"],[1,357,86,35,"index"],[1,360,87,4],[1,364,87,10,"key"],[1,366,87,16,"SCENE_KEY_PREFIX"],[1,368,87,35,"route"],[1,370,87,41,"key"],[1,374,91,10,"scene"],[1,377,92,6,"index"],[1,383,92,6,"index"],[1,385,93,6,"isActive"],[1,395,93,16],[1,397,94,6,"isStale"],[1,406,94,15],[1,408,95,6,"key"],[1,412,95,6,"key"],[1,414,96,6,"route"],[1,420,96,6,"route"],[1,422,97,6,"descriptor"],[1,433,89,21,"descriptors"],[1,436,89,36,"descriptors"],[1,438,89,48,"route"],[1,440,89,54,"key"],[1,447,99,4],[1,449,99,4,"_invariant"],[1,451,99,4,"default"],[1,461,99,15,"nextKeys"],[1,463,99,24,"has"],[1,467,99,28,"key"],[1,470,99,34],[1,497,99,61,"index"],[1,499,99,34],[1,510,99,76,"key"],[1,512,99,34],[1,548,100,4,"nextKeys"],[1,550,100,13,"add"],[1,554,100,17,"key"],[1,557,102,8,"staleScenes"],[1,559,102,20,"has"],[1,563,102,24,"key"],[1,567,105,6,"staleScenes"],[1,569,105,18,"delete"],[1,576,105,25,"key"],[1,579,107,4,"freshScenes"],[1,581,107,16,"set"],[1,585,107,20,"key"],[1,587,107,25,"scene"],[1,592,110,6,"prevState"],[1,595,112,4,"prevState"],[1,597,112,14,"routes"],[1,604,112,21,"forEach"],[1,612,112,29],[1,621,112,30,"route"],[1,623,112,37,"index"],[1,626,113,6],[1,630,113,12,"key"],[1,632,113,18,"SCENE_KEY_PREFIX"],[1,634,113,37,"route"],[1,636,113,43,"key"],[1,640,114,6],[1,644,114,10,"freshScenes"],[1,646,114,22,"has"],[1,650,114,26,"key"],[1,653,114,6],[1,654,117,6],[1,658,117,12,"lastScene"],[1,660,117,24,"scenes"],[1,662,117,31,"find"],[1,667,117,36],[1,676,117,36,"scene"],[1,679,117,41],[1,686,117,45,"scene"],[1,688,117,51,"route"],[1,694,117,57,"key"],[1,700,117,65,"route"],[1,702,117,71,"key"],[1,708,124,12,"descriptor"],[1,710,124,25,"lastScene"],[1,712,124,37,"lastScene"],[1,714,124,47,"descriptor"],[1,725,124,60,"descriptors"],[1,727,124,72,"route"],[1,729,124,78,"key"],[1,734,126,10,"descriptor"],[1,737,127,8,"staleScenes"],[1,739,127,20,"set"],[1,743,127,24,"key"],[1,746,128,10,"index"],[1,752,128,10,"index"],[1,754,129,10,"isActive"],[1,764,129,20],[1,766,130,10,"isStale"],[1,775,130,19],[1,777,131,10,"key"],[1,781,131,10,"key"],[1,783,132,10,"route"],[1,789,132,10,"route"],[1,791,133,10,"descriptor"],[1,802,133,10,"descriptor"],[1,809,139,2],[1,813,139,8,"nextScenes"],[1,818,141,8,"mergeScene"],[1,820,141,21],[1,829,141,21,"nextScene"],[1,832,141,34],[1,836,142,12,"key"],[1,838,142,20,"nextScene"],[1,840,142,12,"key"],[1,844,143,10,"prevScene"],[1,846,143,22,"prevScenes"],[1,848,143,33,"has"],[1,852,143,37,"key"],[1,855,143,44,"prevScenes"],[1,857,143,55,"get"],[1,861,143,59,"key"],[1,864,143,66],[1,869,144,8,"prevScene"],[1,872,144,21,"areScenesShallowEqual"],[1,874,144,43,"prevScene"],[1,876,144,54,"nextScene"],[1,879,147,6,"nextScenes"],[1,881,147,17,"push"],[1,886,147,22,"prevScene"],[1,889,149,6,"nextScenes"],[1,891,149,17,"push"],[1,896,149,22,"nextScene"],[1,900,153,2,"staleScenes"],[1,902,153,14,"forEach"],[1,910,153,22,"mergeScene"],[1,913,154,2,"freshScenes"],[1,915,154,14,"forEach"],[1,923,154,22,"mergeScene"],[1,926,156,2,"nextScenes"],[1,928,156,13,"sort"],[1,933,156,18,"compareScenes"],[1,936,158,2],[1,940,158,6,"activeScenesCount"],[1,942,158,26],[1,944,174,2],[1,947,159,2,"nextScenes"],[1,949,159,13,"forEach"],[1,957,159,21],[1,966,159,22,"scene"],[1,968,159,29,"ii"],[1,971,160,4],[1,975,160,10,"isActive"],[1,978,160,22,"scene"],[1,980,160,28,"isStale"],[1,989,160,39,"scene"],[1,991,160,45,"index"],[1,999,160,55,"nextState"],[1,1001,160,65,"index"],[1,1007,161,8,"isActive"],[1,1011,161,21,"scene"],[1,1013,161,27,"isActive"],[1,1024,162,6,"nextScenes"],[1,1026,162,17,"ii"],[1,1030,162,6],[1,1032,162,6,"_objectSpread2"],[1,1034,162,6,"default"],[1,1046,163,11,"scene"],[1,1049,164,8,"isActive"],[1,1058,164,8,"isActive"],[1,1063,167,8,"isActive"],[1,1066,168,6,"activeScenesCount"],[1,1073,172,2],[1,1075,172,2,"_invariant"],[1,1077,172,2,"default"],[1,1086,172,34],[1,1090,172,12,"activeScenesCount"],[1,1092,172,37],[1,1148,172,94,"activeScenesCount"],[1,1151,174,6,"nextScenes"],[1,1153,174,17,"length"],[1,1162,174,28,"scenes"],[1,1164,174,35,"length"],[1,1171,175,4],[1,1178,175,11,"nextScenes"],[1,1180,178,2],[1,1183,178,6,"nextScenes"],[1,1185,178,17,"some"],[1,1190,178,22],[1,1199,178,23,"scene"],[1,1201,178,30,"index"],[1,1204,178,22],[1,1211,178,41,"areScenesShallowEqual"],[1,1213,178,63,"scenes"],[1,1215,178,70,"index"],[1,1218,178,78,"scene"],[1,1223,179,4],[1,1230,179,11,"nextScenes"],[1,1232,183,2],[1,1239,183,9,"scenes"],[1,1259,1,0,"_invariant"],[1,1261,1,0,"_interopRequireDefault"],[1,1263,1,0,"r"],[1,1265,1,0,"d"],[1,1267,1,0],[1,1272,2,0,"_shallowEqual"],[1,1274,2,0,"_interopRequireDefault"],[1,1276,2,0,"r"],[1,1278,2,0,"d"],[1,1280,2,0],[1,1285,4,6,"SCENE_KEY_PREFIX"],[1,1287,4,25],[1,1296,9,0],[1,1305,9,9,"compareKey"],[1,1307,9,20,"one"],[1,1309,9,25,"two"],[1,1312,10,2],[1,1316,10,8,"delta"],[1,1318,10,16,"one"],[1,1320,10,20,"length"],[1,1327,10,29,"two"],[1,1329,10,33,"length"],[1,1336,11,2],[1,1343,11,6,"delta"],[1,1345,11,14],[1,1347,12,11],[1,1349,14,6,"delta"],[1,1351,14,14],[1,1354,15,4],[1,1356,17,9,"one"],[1,1358,17,15,"two"],[1,1360,17,21],[1,1363,17,9],[1,1365,23,0],[1,1374,23,9,"compareScenes"],[1,1376,23,23,"one"],[1,1378,23,28,"two"],[1,1381,24,2],[1,1388,24,6,"one"],[1,1390,24,10,"index"],[1,1396,24,18,"two"],[1,1398,24,22,"index"],[1,1404,25,11],[1,1406,27,6,"one"],[1,1408,27,10,"index"],[1,1414,27,18,"two"],[1,1416,27,22,"index"],[1,1423,28,4],[1,1425,31,9,"compareKey"],[1,1427,31,20,"one"],[1,1429,31,24,"key"],[1,1433,31,29,"two"],[1,1435,31,33,"key"],[1,1440,37,0],[1,1449,37,9,"areScenesShallowEqual"],[1,1451,37,31,"one"],[1,1453,37,36,"two"],[1,1456,38,2],[1,1463,38,9,"one"],[1,1465,38,13,"key"],[1,1471,38,21,"two"],[1,1473,38,25,"key"],[1,1478,38,32,"one"],[1,1480,38,36,"index"],[1,1488,38,46,"two"],[1,1490,38,50,"index"],[1,1497,38,59,"one"],[1,1499,38,63,"isStale"],[1,1509,38,75,"two"],[1,1511,38,79,"isStale"],[1,1520,38,90,"one"],[1,1522,38,94,"isActive"],[1,1533,38,107,"two"],[1,1535,38,111,"isActive"],[1,1545,38,123,"areRoutesShallowEqual"],[1,1547,38,145,"one"],[1,1549,38,149,"route"],[1,1555,38,156,"two"],[1,1557,38,160,"route"],[1,1564,44,0],[1,1573,44,9,"areRoutesShallowEqual"],[1,1575,44,31,"one"],[1,1577,44,36,"two"],[1,1580,45,2],[1,1587,45,7,"one"],[1,1590,45,15,"two"],[1,1592,49,6,"one"],[1,1594,49,10,"key"],[1,1600,49,18,"two"],[1,1602,49,22,"key"],[1,1608,53,9],[1,1610,53,9,"_shallowEqual"],[1,1612,53,9,"default"],[1,1621,53,22,"one"],[1,1623,53,27,"two"],[1,1626,46,11,"one"],[1,1630,46,19,"two"]]},"type":"js/module"}]}