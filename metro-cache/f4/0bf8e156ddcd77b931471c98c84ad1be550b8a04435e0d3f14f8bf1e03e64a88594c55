{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"lodash","data":{"isAsync":false}},{"name":"./themeManager","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.RkStyleSheet = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _lodash = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"lodash\"));\n\n  var _themeManager = _$$_REQUIRE(_dependencyMap[4], \"./themeManager\");\n\n  var objects = [];\n  var patternStyles = [];\n  var id = 0;\n\n  var ThemedStyleSheet = function () {\n    function ThemedStyleSheet() {\n      (0, _classCallCheck2.default)(this, ThemedStyleSheet);\n    }\n\n    (0, _createClass2.default)(ThemedStyleSheet, [{\n      key: \"getStyle\",\n      value: function getStyle(style) {\n        if (typeof style === 'function') {\n          return style(_themeManager.RkTheme.current);\n        }\n\n        return style;\n      }\n    }, {\n      key: \"invalidate\",\n      value: function invalidate() {\n        var _this = this;\n\n        patternStyles.forEach(function (patternObj) {\n          var styles = _this.getStyle(patternObj.style);\n\n          Object.keys(styles).forEach(function (key) {\n            var _$find = _lodash.default.find(patternObj.computedIds, function (o) {\n              return o.key === key;\n            }),\n                styleId = _$find.id;\n\n            objects[styleId] = styles[key];\n          });\n        });\n      }\n    }, {\n      key: \"wrapToObject\",\n      value: function wrapToObject(computedIds) {\n        var obj = {};\n        computedIds.forEach(function (item) {\n          Object.defineProperty(obj, item.key, {\n            get: function get() {\n              return objects[item.id];\n            }\n          });\n        });\n        return obj;\n      }\n    }, {\n      key: \"create\",\n      value: function create(style) {\n        var styles = this.getStyle(style);\n        var computedIds = [];\n        Object.keys(styles).forEach(function (key) {\n          id += 1;\n          objects[id] = styles[key];\n          computedIds.push({\n            key: key,\n            id: id\n          });\n        });\n        patternStyles.push({\n          style: style,\n          computedIds: computedIds\n        });\n        return this.wrapToObject(computedIds);\n      }\n    }]);\n    return ThemedStyleSheet;\n  }();\n\n  var RkStyleSheet = new ThemedStyleSheet();\n  exports.RkStyleSheet = RkStyleSheet;\n});","map":[[13,0,1,0],[15,0,2,0],[17,0,4,0],[17,6,4,6,"objects"],[17,13,4,13],[17,16,4,16],[17,18,4,0],[18,0,5,0],[18,6,5,6,"patternStyles"],[18,19,5,19],[18,22,5,22],[18,24,5,0],[19,0,6,0],[19,6,6,4,"id"],[19,8,6,6],[19,11,6,9],[19,12,6,0],[21,6,34,6,"ThemedStyleSheet"],[21,22],[28,31,35,11,"style"],[28,36],[28,38,35,18],[29,0,36,4],[29,12,36,8],[29,19,36,15,"style"],[29,24,36,8],[29,29,36,25],[29,39,36,4],[29,41,36,37],[30,0,37,6],[30,17,37,13,"style"],[30,22,37,18],[30,23,37,19,"RkTheme"],[30,45,37,27,"current"],[30,52,37,18],[30,53,37,6],[31,0,38,5],[33,0,39,4],[33,15,39,11,"style"],[33,20,39,4],[34,0,40,3],[37,35,42,15],[38,0,42,15],[40,0,43,4,"patternStyles"],[40,8,43,4,"patternStyles"],[40,21,43,17],[40,22,43,18,"forEach"],[40,29,43,4],[40,30,43,26],[40,40,43,27,"patternObj"],[40,50,43,26],[40,52,43,42],[41,0,44,6],[41,14,44,12,"styles"],[41,20,44,18],[41,23,44,21],[41,28,44,25],[41,29,44,26,"getStyle"],[41,37,44,21],[41,38,44,35,"patternObj"],[41,48,44,45],[41,49,44,46,"style"],[41,54,44,21],[41,55,44,6],[43,0,45,6,"Object"],[43,10,45,6,"Object"],[43,16,45,12],[43,17,45,13,"keys"],[43,21,45,6],[43,22,45,18,"styles"],[43,28,45,6],[43,30,45,26,"forEach"],[43,37,45,6],[43,38,45,34],[43,48,45,34,"key"],[43,51,45,37],[43,53,45,41],[44,0,45,41],[44,25,46,32,"_"],[44,41,46,34,"find"],[44,45,46,32],[44,46,46,39,"patternObj"],[44,56,46,49],[44,57,46,50,"computedIds"],[44,68,46,32],[44,70,46,63],[44,80,46,64,"o"],[44,81,46,63],[45,0,46,63],[45,21,46,70,"o"],[45,22,46,71],[45,23,46,72,"key"],[45,26,46,70],[45,31,46,80,"key"],[45,34,46,63],[46,0,46,63],[46,13,46,32],[46,14,45,41],[47,0,45,41],[47,16,46,20,"styleId"],[47,23,45,41],[47,33,46,16,"id"],[47,35,45,41],[49,0,47,8,"objects"],[49,12,47,8,"objects"],[49,19,47,15],[49,20,47,16,"styleId"],[49,27,47,15],[49,28,47,8],[49,31,47,27,"styles"],[49,37,47,33],[49,38,47,34,"key"],[49,41,47,33],[49,42,47,8],[50,0,48,7],[50,11,45,6],[51,0,49,5],[51,9,43,4],[52,0,50,3],[55,35,52,15,"computedIds"],[55,46],[55,48,52,28],[56,0,53,4],[56,12,53,10,"obj"],[56,15,53,13],[56,18,53,16],[56,20,53,4],[57,0,55,4,"computedIds"],[57,8,55,4,"computedIds"],[57,19,55,15],[57,20,55,16,"forEach"],[57,27,55,4],[57,28,55,24],[57,38,55,25,"item"],[57,42,55,24],[57,44,55,34],[58,0,56,6,"Object"],[58,10,56,6,"Object"],[58,16,56,12],[58,17,56,13,"defineProperty"],[58,31,56,6],[58,32,56,28,"obj"],[58,35,56,6],[58,37,56,33,"item"],[58,41,56,37],[58,42,56,38,"key"],[58,45,56,6],[58,47,56,43],[59,0,57,8,"get"],[59,12,57,8,"get"],[59,15,57,11],[59,17,57,13],[60,0,57,13],[60,21,57,19,"objects"],[60,28,57,26],[60,29,57,27,"item"],[60,33,57,31],[60,34,57,32,"id"],[60,36,57,26],[60,37,57,13],[61,0,57,13],[62,0,56,43],[62,11,56,6],[63,0,59,5],[63,9,55,4],[64,0,60,4],[64,15,60,11,"obj"],[64,18,60,4],[65,0,61,3],[68,29,69,9,"style"],[68,34],[68,36,69,16],[69,0,70,4],[69,12,70,10,"styles"],[69,18,70,16],[69,21,70,19],[69,26,70,24,"getStyle"],[69,34,70,19],[69,35,70,33,"style"],[69,40,70,19],[69,41,70,4],[70,0,71,4],[70,12,71,10,"computedIds"],[70,23,71,21],[70,26,71,24],[70,28,71,4],[71,0,72,4,"Object"],[71,8,72,4,"Object"],[71,14,72,10],[71,15,72,11,"keys"],[71,19,72,4],[71,20,72,16,"styles"],[71,26,72,4],[71,28,72,24,"forEach"],[71,35,72,4],[71,36,72,32],[71,46,72,32,"key"],[71,49,72,35],[71,51,72,39],[72,0,73,6,"id"],[72,10,73,6,"id"],[72,12,73,8],[72,16,73,12],[72,17,73,6],[73,0,74,6,"objects"],[73,10,74,6,"objects"],[73,17,74,13],[73,18,74,14,"id"],[73,20,74,13],[73,21,74,6],[73,24,74,20,"styles"],[73,30,74,26],[73,31,74,27,"key"],[73,34,74,26],[73,35,74,6],[74,0,75,6,"computedIds"],[74,10,75,6,"computedIds"],[74,21,75,17],[74,22,75,18,"push"],[74,26,75,6],[74,27,75,23],[75,0,75,25,"key"],[75,12,75,25,"key"],[75,15,75,28],[75,17,75,25,"key"],[75,20,75,23],[76,0,75,30,"id"],[76,12,75,30,"id"],[76,14,75,32],[76,16,75,30,"id"],[77,0,75,23],[77,11,75,6],[78,0,76,5],[78,9,72,4],[79,0,77,4,"patternStyles"],[79,8,77,4,"patternStyles"],[79,21,77,17],[79,22,77,18,"push"],[79,26,77,4],[79,27,77,23],[80,0,77,25,"style"],[80,10,77,25,"style"],[80,15,77,30],[80,17,77,25,"style"],[80,22,77,23],[81,0,77,32,"computedIds"],[81,10,77,32,"computedIds"],[81,21,77,43],[81,23,77,32,"computedIds"],[82,0,77,23],[82,9,77,4],[83,0,78,4],[83,15,78,11],[83,20,78,16,"wrapToObject"],[83,32,78,11],[83,33,78,29,"computedIds"],[83,44,78,11],[83,45,78,4],[84,0,79,3],[89,0,82,7],[89,6,82,13,"RkStyleSheet"],[89,18,82,25],[89,21,82,28],[89,25,82,32,"ThemedStyleSheet"],[89,41,82,28],[89,43,82,7]]},"type":"js/module"}]}