{"dependencies":[{"name":"BatchedBridge","data":{"isAsync":false}},{"name":"EventEmitter","data":{"isAsync":false}},{"name":"Set","data":{"isAsync":false}},{"name":"TaskQueue","data":{"isAsync":false}},{"name":"infoLog","data":{"isAsync":false}},{"name":"fbjs/lib/invariant","data":{"isAsync":false}},{"name":"fbjs/lib/keyMirror","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),c=r(d[3]),s=(r(d[4]),r(d[5])),u=r(d[6]),l=new t,f={Events:u({interactionStart:!0,interactionComplete:!0}),runAfterInteractions:function(n){var t=[],o=new Promise(function(o){b(),n&&t.push(n),t.push({run:o,name:'resolve '+(n&&n.name||'?')}),w.enqueueTasks(t)});return{then:o.then.bind(o),done:function(){if(o.done)return o.done.apply(o,arguments);console.warn('Tried to call done when not supported by current Promise implementation.')},cancel:function(){w.cancelTasks(t)}}},createInteractionHandle:function(){b();var n=++E;return v.add(n),n},clearInteractionHandle:function(n){s(!!n,'Must provide a handle to clear.'),b(),v.delete(n),h.add(n)},addListener:l.addListener.bind(l),setDeadline:function(n){k=n}},p=new o,v=new o,h=new o,w=new c({onMoreTasks:b}),T=0,E=0,k=-1;function b(){T||(T=k>0?setTimeout(I,0):setImmediate(I))}function I(){T=0;var t=p.size;v.forEach(function(n){return p.add(n)}),h.forEach(function(n){return p.delete(n)});var o=p.size;if(0!==t&&0===o?l.emit(f.Events.interactionComplete):0===t&&0!==o&&l.emit(f.Events.interactionStart),0===o)for(;w.hasTasksToProcess();)if(w.processNext(),k>0&&n.getEventLoopRunningTime()>=k){b();break}v.clear(),h.clear()}m.exports=f});","map":[[1,28,11,0],[1,41,13,0],[1,45,13,6,"BatchedBridge"],[1,47,13,22,"require"],[1,49,13,29,"d"],[1,51,13,29],[1,55,14,6,"EventEmitter"],[1,57,14,21,"require"],[1,59,14,28,"d"],[1,61,14,28],[1,65,15,6,"Set"],[1,67,15,12,"require"],[1,69,15,19,"d"],[1,71,15,19],[1,75,16,6,"TaskQueue"],[1,77,16,18,"require"],[1,79,16,25,"d"],[1,81,16,25],[1,85,19,6,"invariant"],[1,88,18,16,"require"],[1,90,18,23,"d"],[1,92,18,23],[1,96,19,18,"require"],[1,98,19,25,"d"],[1,100,19,25],[1,105,23,6,"keyMirror"],[1,107,23,18,"require"],[1,109,23,25,"d"],[1,111,23,25],[1,115,28,6,"_emitter"],[1,117,28,17],[1,121,28,21,"EventEmitter"],[1,123,82,6,"InteractionManager"],[1,126,83,2,"Events"],[1,133,83,10,"keyMirror"],[1,136,84,4,"interactionStart"],[1,154,84,22],[1,156,85,4,"interactionComplete"],[1,177,85,25],[1,181,92,2,"runAfterInteractions"],[1,202,82,27],[1,211,93,4,"task"],[1,214,95,4],[1,218,95,10,"tasks"],[1,223,96,10,"promise"],[1,225,96,20],[1,229,96,24,"Promise"],[1,237,96,32],[1,246,96,32,"resolve"],[1,249,97,6,"_scheduleUpdate"],[1,253,98,10,"task"],[1,256,99,8,"tasks"],[1,258,99,14,"push"],[1,263,99,19,"task"],[1,266,101,6,"tasks"],[1,268,101,12,"push"],[1,274,102,8,"run"],[1,278,102,13,"resolve"],[1,280,103,8,"name"],[1,285,103,14],[1,297,103,29,"task"],[1,300,103,37,"task"],[1,302,103,42,"name"],[1,308,103,51],[1,315,105,6,"_taskQueue"],[1,317,105,17,"enqueueTasks"],[1,330,105,30,"tasks"],[1,335,107,4],[1,342,108,6,"then"],[1,347,108,12,"promise"],[1,349,108,20,"then"],[1,354,108,25,"bind"],[1,359,108,30,"promise"],[1,362,109,6,"done"],[1,367,109,12],[1,378,110,8],[1,381,110,12,"promise"],[1,383,110,20,"done"],[1,388,111,10],[1,395,111,17,"promise"],[1,397,111,25,"done"],[1,402,111,17,"apply"],[1,408,111,17,"promise"],[1,410,111,24,"arguments"],[1,421,113,10,"console"],[1,429,113,18,"warn"],[1,434,114,12],[1,511,118,6,"cancel"],[1,518,118,14],[1,529,119,8,"_taskQueue"],[1,531,119,19,"cancelTasks"],[1,543,119,31,"tasks"],[1,549,127,2,"createInteractionHandle"],[1,573,82,27],[1,584,129,4,"_scheduleUpdate"],[1,588,130,4],[1,592,130,10,"handle"],[1,596,130,21,"_inc"],[1,598,132,4],[1,605,131,4,"_addInteractionSet"],[1,607,131,23,"add"],[1,611,131,27,"handle"],[1,614,132,11,"handle"],[1,617,138,2,"clearInteractionHandle"],[1,640,82,27],[1,649,138,25,"handle"],[1,652,140,4,"invariant"],[1,656,140,16,"handle"],[1,658,140,24],[1,693,141,4,"_scheduleUpdate"],[1,697,142,4,"_addInteractionSet"],[1,699,142,23,"delete"],[1,706,142,30,"handle"],[1,709,143,4,"_deleteInteractionSet"],[1,711,143,26,"add"],[1,715,143,30,"handle"],[1,719,146,2,"addListener"],[1,731,146,15,"_emitter"],[1,733,146,24,"addListener"],[1,745,146,36,"bind"],[1,750,146,41,"_emitter"],[1,753,153,2,"setDeadline"],[1,765,82,27],[1,774,153,14,"deadline"],[1,777,154,4,"_deadline"],[1,779,154,16,"deadline"],[1,783,158,6,"_interactionSet"],[1,785,158,24],[1,789,158,28,"Set"],[1,791,159,6,"_addInteractionSet"],[1,793,159,27],[1,797,159,31,"Set"],[1,799,160,6,"_deleteInteractionSet"],[1,801,160,30],[1,805,160,34,"Set"],[1,807,161,6,"_taskQueue"],[1,809,161,19],[1,813,161,23,"TaskQueue"],[1,816,161,34,"onMoreTasks"],[1,828,161,47,"_scheduleUpdate"],[1,832,162,4,"_nextUpdateHandle"],[1,834,162,24],[1,836,163,4,"_inc"],[1,838,163,11],[1,840,164,4,"_deadline"],[1,843,164,13],[1,845,171,0],[1,854,171,9,"_scheduleUpdate"],[1,858,172,7,"_nextUpdateHandle"],[1,862,177,6,"_nextUpdateHandle"],[1,864,173,8,"_deadline"],[1,866,173,20],[1,868,177,26,"setTimeout"],[1,879,177,37,"_processUpdate"],[1,881,177,36],[1,884,179,26,"setImmediate"],[1,897,179,39,"_processUpdate"],[1,901,187,0],[1,910,187,9,"_processUpdate"],[1,914,188,2,"_nextUpdateHandle"],[1,916,188,22],[1,918,190,2],[1,922,190,8,"interactionCount"],[1,924,190,27,"_interactionSet"],[1,926,190,43,"size"],[1,931,191,2,"_addInteractionSet"],[1,933,191,21,"forEach"],[1,941,191,29],[1,950,191,29,"handle"],[1,953,191,35],[1,960,191,39,"_interactionSet"],[1,962,191,55,"add"],[1,966,191,59,"handle"],[1,971,192,2,"_deleteInteractionSet"],[1,973,192,24,"forEach"],[1,981,192,32],[1,990,192,32,"handle"],[1,993,192,38],[1,1000,192,42,"_interactionSet"],[1,1002,192,58,"delete"],[1,1009,192,65,"handle"],[1,1014,193,2],[1,1018,193,8,"nextInteractionCount"],[1,1020,193,31,"_interactionSet"],[1,1022,193,47,"size"],[1,1027,204,2],[1,1030,195,27],[1,1034,195,6,"interactionCount"],[1,1037,195,57],[1,1041,195,32,"nextInteractionCount"],[1,1043,197,4,"_emitter"],[1,1045,197,13,"emit"],[1,1050,197,18,"InteractionManager"],[1,1052,197,37,"Events"],[1,1059,197,44,"interactionComplete"],[1,1080,198,34],[1,1084,198,13,"interactionCount"],[1,1087,198,64],[1,1091,198,39,"nextInteractionCount"],[1,1094,200,4,"_emitter"],[1,1096,200,13,"emit"],[1,1101,200,18,"InteractionManager"],[1,1103,200,37,"Events"],[1,1110,200,44,"interactionStart"],[1,1128,204,31],[1,1132,204,6,"nextInteractionCount"],[1,1134,205,4],[1,1139,205,11,"_taskQueue"],[1,1141,205,22,"hasTasksToProcess"],[1,1162,207,6],[1,1165,206,6,"_taskQueue"],[1,1167,206,17,"processNext"],[1,1181,208,8,"_deadline"],[1,1183,208,20],[1,1186,209,8,"BatchedBridge"],[1,1188,209,22,"getEventLoopRunningTime"],[1,1215,209,51,"_deadline"],[1,1217,210,8],[1,1218,212,8,"_scheduleUpdate"],[1,1222,213,8],[1,1228,217,2,"_addInteractionSet"],[1,1230,217,21,"clear"],[1,1238,218,2,"_deleteInteractionSet"],[1,1240,218,24,"clear"],[1,1248,221,0,"module"],[1,1250,221,7,"exports"],[1,1258,221,17,"InteractionManager"]]},"type":"js/module"}]}